{"version":3,"file":"history-panel-edit-current.js","sources":["../../../src/mvc/history/history-panel-edit-current.js"],"names":["define","HISTORY_MODEL","HPANEL_EDIT","DC_PANEL","BASE_MVC","_l","HistoryPanelPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryPanelEdit","CurrentHistoryPanel","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","$scrollContainer","on","$el","is","set","$","scrollTop","loadCurrentHistory","debug","loadHistoryWithDetails","then","trigger","switchToHistory","historyId","historyFn","jQuery","getJSON","galaxy_config","root","createNewHistory","Galaxy","currUser","isAnonymous","displayMessage","when","loadHistory","undefined","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","collection","get","storage","removeItemView","_setUpModelListeners","quotaMeter","listenTo","update","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","size","empty","html","join","click","ev","show","parent","_renderTags","$where","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","v","drilldown","_expandDrilldownPanel","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","data","pathToMatch","fullpath","useToURLRegexMap","display","edit","report_error","rerun","show_params","hdaId","hdaUse","regex","use","match","connectToQuotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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"}