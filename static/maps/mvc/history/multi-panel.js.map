{"version":3,"file":"multi-panel.js","sources":["../../../src/mvc/history/multi-panel.js"],"names":["define","HISTORY_MODEL","HPANEL_EDIT","baseMVC","ajaxQueue","historyCopyDialog","history","options","validateName","name","Galaxy","modal","$","size","$invalidTitle","attr","css","color","margin-top","addClass","text","_l","append","copyHistory","$copyIndicator","copy","fail","alert","always","hide","checkNameAndCopy","val","historyName","get","defaultCopyName","show","_","extend","title","body","join","buttons","Cancel","Copy","focus","select","on","ev","keyCode","HistoryPanelColumn","Backbone","View","LoggableMixin","tagName","className","id","this","model","initialize","purgeAllowed","isUndefined","panel","createPanel","setUpListeners","panelOptions","dragItems","HistoryPanelEdit","_renderEmptyMessage","__patch_renderEmptyMessage","$whereTo","hdaCount","chain","values","flatten","value","length","$emptyMsg","$emptyMessage","isEmpty","hdaViews","contents","empty","searchFor","noneFoundMsg","emptyMsg","column","once","trigger","setUpPanelListeners","listenTo","rendered","inView","viewLeft","viewRight","columnLeft","$el","offset","left","columnRight","width","$panel","render","speed","undefined","modelData","toJSON","html","template","renderPanel","setUpBehaviors","data","isCurrentHistory","currentHistory","controlsLeftTemplate","view","controlsRightTemplate","setElement","$list","before","_renderDropTargetHelp","events","click .switch-to.btn","setAsCurrent","click .delete-history","_delete","xhr","status","error","done","click .undelete-history","undelete","click .purge-history","confirm","purge","click .copy-history","variable","toString","MultiPanelColumns","log","currentHistoryId","Error","columnWidth","borderWidth","columnGap","headerHeight","footerHeight","controlsHeight","order","_initSortOrders","hdaQueue","NamedAjaxQueue","collection","setCollection","histories","columnMap","createColumns","columnOptions","_comparator","getter","a","b","asc","sortOrders","update","fn","h","Date","name-dsc","size-dsc","models","multipanel","stopListening","sortCollection","silent","setUpCollectionListeners","add","addAsCurrentColumn","set-as-current","setCurrentHistory","change:deleted change:purged","handleDeletedHistory","sort","renderColumns","oldCurrentColumn","height","newCurrentColumn","_recalcFirstColumnHeight","includeDeleted","removeColumn","sortOrder","comparator","is","popover","create","current","each","createColumn","config","allow_user_dataset_purge","setUpColumnListeners","sortedFilteredColumns","filters","sortedColumns","filter","filtered","every","map","call","sorted","addColumn","newColumn","queueHdaFetch","widthToRemove","fadeOut","remove","checkColumnsInView","in-view","view:draggable:dragstart","_dropData","JSON","parse","dataTransfer","getData","currentColumnDropTargetOn","view:draggable:dragend","currentColumnDropTargetOff","droptarget:drop","toCopy","json","isCopyable","queue","forEach","content","start","fetch","columnMapLength","Object","keys","fxSpeed","mainTemplate","sortedAndFiltered","$middle","appendTo","delegateEvents","renderColumn","xhrData","ids","storage","dataset_details","renderItems","running","queueHdaFetchDetails","haveDetails","details","renderInfo","msg","click .done.btn","click .create-new.btn","click #include-deleted","click .order .set-order","click #toggle-deleted","click #toggle-hidden","close","destination","root","galaxy_config","window","location","_clickToggleDeletedHistories","toggleDeletedHistories","currentTarget","_clickToggleDeletedDatasets","toggleDeletedDatasets","i","delay","toggleShowDeleted","_clickToggleHiddenDatasets","toggleHiddenDatasets","toggleShowHidden","_chooseOrder","orderKey","_moreOptionsPopover","searchInput","placeholder","onsearch","matchesAll","onclear","onfirstsearch","clear","searchItems","progress","curr","total","deferred","clearSearch","resize","debouncedInView","debounce","parent","scroll","container","placement","optionsPopoverTemplate","$firstColumn","first","middleHeight","controlHeight","find","_viewport","right","columnsInView","vp","currentColumn","dataDropped","dropTargetOn","prototype","dataDrop","dropTarget","columns"],"mappings":"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"}